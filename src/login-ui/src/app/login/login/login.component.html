<div class="login">
  <mat-toolbar class="cabecera">
      <div><span>FCE | Login</span></div>
  </mat-toolbar>

  <!-- esto se muestra mientras esta procesando los datos el servidor, para analizar si es necesario loguearse nuevamente. -->
  <div *ngIf="login_challenge == ''">
      Procesando datos de identificación. Por favor espere.
  </div>

  <!-- se muestra solo en el caso de que sea necesario loguearse -->
  <div *ngIf="login_challenge != ''" class="contenido">
      <div class="contenedorTitulo">
          <div>Iniciar sesión</div>
      </div>
      <div class="contenedorLogin">
        <form class="formulario" [formGroup]='formulario' (ngSubmit)='acceder()'>
              <mat-form-field class="example-full-width">
                <mat-icon class="iconoFormulario" matPrefix>person</mat-icon>
                <input class="itemInput" matInput placeholder="Usuario" formControlName='usuario'>
                <mat-error *ngIf='usuario.invalid'> nombre de usuario incorrecto</mat-error>
              </mat-form-field>
              <mat-form-field class="example-full-width">
                <mat-icon class="iconoFormulario" matPrefix>lock</mat-icon>
                <input #clave type="password" matInput placeholder="Contraseña" formControlName='clave'>
                <mat-icon class="iconoVerContrasena" matSuffix (click)="cambiar_tipo(clave)">{{clave.type == 'text' ? 'visibility' : 'visibility_off'}}</mat-icon>
                <mat-error *ngIf='clave.invalid'> contraseña incorrecta</mat-error>
              </mat-form-field>
              <div class="contenedorBtnAcceder">
                  <button class="btnAcceder" type='submit' mat-raised-button>ACCEDER</button>
              </div>
              <mat-checkbox class="checkboxRecordar">Recordar contraseña</mat-checkbox>
        </form>
        <mat-error *ngIf='estado == 401'>Usuario o clave no válido</mat-error>
        <mat-error *ngIf='estado == 500 || estado == 0'>Error de servidor</mat-error>
        <div class="contenedorAyuda">
            <div><a routerLink='/recuperar_clave'>Olvidé mi contraseña</a></div>
            <div><a href="" target="_blank">Ayuda y preguntas frecuentes</a></div>
        </div>
      </div>

      <div class="logoFCE">
          <img class="imgLogo" src="/assets/img/logo_fce.png" height="" width="">
      </div>

  </div>

  <div class="footer">
    <div class="footerMini">DiTeSI | Dirección de Tecnologías y Sistemas Informáticos | FCE - UNLP</div>
    <div class="footerFull">DiTeSI | Dirección de Tecnologías y Sistemas Informáticos | Facultad de Ciencias Económicas | UNLP | Calle 6 Nº 777</div>
  </div>

</div>
